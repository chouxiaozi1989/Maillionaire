# é‚®ä»¶åˆ é™¤æœåŠ¡å™¨åŒæ­¥ä¿®å¤

## ğŸ› é—®é¢˜æè¿°

### å‘ç°çš„é—®é¢˜

é‚®ä»¶åˆ é™¤åŠŸèƒ½å­˜åœ¨ä¸¥é‡ç¼ºé™·ï¼š**åˆ é™¤æ“ä½œä»…æ›´æ–°æœ¬åœ°çŠ¶æ€ï¼ŒæœªåŒæ­¥åˆ°æœåŠ¡å™¨**

#### é—®é¢˜ 1: `deleteMail()` æœªåŒæ­¥åˆ°æœåŠ¡å™¨

**ä½ç½®**: `src/stores/mail.js`

**åŸä»£ç **:
```javascript
async function deleteMail(mailId) {
  try {
    // âŒ åªæ›´æ–°æœ¬åœ°çŠ¶æ€ï¼ŒæœªåŒæ­¥åˆ°æœåŠ¡å™¨
    await updateMail(mailId, { folder: 'trash' })
  } catch (error) {
    console.error('Failed to delete mail:', error)
    throw error
  }
}
```

**é—®é¢˜**:
- åªä¿®æ”¹æœ¬åœ°é‚®ä»¶çš„ `folder` å±æ€§ä¸º `'trash'`
- æœªè°ƒç”¨ Gmail API æˆ– IMAP åˆ é™¤é‚®ä»¶
- æœåŠ¡å™¨ç«¯é‚®ä»¶ä»åœ¨åŸä½ç½®
- å…¶ä»–è®¾å¤‡æˆ–å®¢æˆ·ç«¯çœ‹ä¸åˆ°åˆ é™¤æ“ä½œ

#### é—®é¢˜ 2: `permanentlyDeleteMail()` æœªåŒæ­¥åˆ°æœåŠ¡å™¨

**ä½ç½®**: `src/stores/mail.js`

**åŸä»£ç **:
```javascript
async function permanentlyDeleteMail(mailId) {
  try {
    // âŒ åªåˆ é™¤æœ¬åœ°æ•°æ®
    mails.value = mails.value.filter(mail => mail.id !== mailId)
    await saveMails()
  } catch (error) {
    console.error('Failed to permanently delete mail:', error)
    throw error
  }
}
```

**é—®é¢˜**:
- åªä»æœ¬åœ°æ•°ç»„ç§»é™¤é‚®ä»¶
- æœªè°ƒç”¨æœåŠ¡å™¨åˆ é™¤ API
- æœåŠ¡å™¨ç«¯é‚®ä»¶ä»ç„¶å­˜åœ¨
- ä¸‹æ¬¡åŒæ­¥ä¼šé‡æ–°æ‹‰å–è¯¥é‚®ä»¶

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### ä¿®å¤ 1: `deleteMail()` - è°ƒç”¨æœåŠ¡å™¨åˆ é™¤

**ä¿®å¤åä»£ç **:
```javascript
/**
 * åˆ é™¤é‚®ä»¶ï¼ˆç§»è‡³å›æ”¶ç«™ï¼‰
 * åŒæ­¥åˆ°æœåŠ¡å™¨
 */
async function deleteMail(mailId) {
  try {
    // âœ… è°ƒç”¨æœåŠ¡å™¨åˆ é™¤æ–¹æ³•
    await deleteMailFromServer(mailId)
  } catch (error) {
    console.error('[Mail] Failed to delete mail:', error)
    throw error
  }
}
```

**ä¿®å¤å†…å®¹**:
- âœ… è°ƒç”¨ `deleteMailFromServer()` æ–¹æ³•
- âœ… è‡ªåŠ¨åˆ¤æ–­ Gmail æˆ– IMAP è´¦æˆ·
- âœ… Gmail: è°ƒç”¨ `gmailApiService.trashMessage()`
- âœ… IMAP: è°ƒç”¨ IMAP åˆ é™¤å‘½ä»¤
- âœ… æ›´æ–°æœ¬åœ°çŠ¶æ€

### ä¿®å¤ 2: `permanentlyDeleteMail()` - æ·»åŠ æœåŠ¡å™¨åŒæ­¥

**ä¿®å¤åä»£ç **:
```javascript
/**
 * æ°¸ä¹…åˆ é™¤é‚®ä»¶
 * åŒæ­¥åˆ°æœåŠ¡å™¨
 */
async function permanentlyDeleteMail(mailId) {
  try {
    const account = accountStore.currentAccount
    if (!account) {
      throw new Error('è¯·å…ˆé€‰æ‹©è´¦æˆ·')
    }

    const mail = mails.value.find(m => m.id === mailId)
    if (!mail) {
      throw new Error('é‚®ä»¶ä¸å­˜åœ¨')
    }

    // æ£€æµ‹æ˜¯å¦ä¸º Gmail è´¦æˆ·
    const isGmail = account.provider === 'gmail' || 
                    account.imapHost?.includes('gmail.com') ||
                    account.email?.endsWith('@gmail.com')

    if (isGmail && account.oauth2 && account.accessToken && mail.gmailId) {
      // âœ… ä½¿ç”¨ Gmail API æ°¸ä¹…åˆ é™¤
      console.log('[Mail] Permanently deleting via Gmail API...')
      const accessToken = await ensureValidToken(account, accountStore)
      const { gmailApiService } = await import('@/services/gmail-api')
      
      await gmailApiService.deleteMessage(accessToken, mail.gmailId)
      console.log('[Mail] Permanently deleted via Gmail API successfully')
    } else if (window.electronAPI && mail.uid) {
      // âœ… ä½¿ç”¨ IMAP åˆ é™¤
      console.log('[Mail] Permanently deleting via IMAP...')
      const password = await ensureValidToken(account, accountStore)
      
      await window.electronAPI.connectImap({
        email: account.email,
        password: password,
        imapHost: account.imapHost,
        imapPort: account.imapPort,
      })
      
      await window.electronAPI.openImapFolder(mail.folder || 'TRASH')
      await window.electronAPI.deleteImapMail(mail.uid)
      await window.electronAPI.disconnectImap()
      
      console.log('[Mail] Permanently deleted via IMAP successfully')
    }
    
    // åˆ é™¤æœ¬åœ°æ•°æ®
    mails.value = mails.value.filter(m => m.id !== mailId)
    await saveMails()
  } catch (error) {
    console.error('[Mail] Failed to permanently delete mail:', error)
    throw error
  }
}
```

**ä¿®å¤å†…å®¹**:
- âœ… æ·»åŠ æœåŠ¡å™¨åˆ é™¤é€»è¾‘
- âœ… Gmail: è°ƒç”¨ `gmailApiService.deleteMessage()` (æ°¸ä¹…åˆ é™¤)
- âœ… IMAP: è°ƒç”¨ IMAP åˆ é™¤å¹¶ expunge
- âœ… å…ˆåŒæ­¥æœåŠ¡å™¨ï¼Œå†åˆ é™¤æœ¬åœ°æ•°æ®
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†

---

## ğŸ“Š å®Œæ•´çš„åˆ é™¤æµç¨‹

### æµç¨‹ 1: æ™®é€šåˆ é™¤ï¼ˆç§»åˆ°å›æ”¶ç«™ï¼‰

```
ç”¨æˆ·ç‚¹å‡»åˆ é™¤æŒ‰é’®
    â†“
è°ƒç”¨ deleteMail(mailId)
    â†“
è°ƒç”¨ deleteMailFromServer(mailId)
    â†“
æ£€æµ‹è´¦æˆ·ç±»å‹
    â”œâ”€â†’ Gmail è´¦æˆ·
    â”‚   â”œâ”€â†’ åˆ·æ–° OAuth2 ä»¤ç‰Œï¼ˆå¦‚éœ€è¦ï¼‰
    â”‚   â”œâ”€â†’ è°ƒç”¨ gmailApiService.trashMessage()
    â”‚   â”‚   â””â”€â†’ POST /gmail/v1/users/me/messages/{id}/trash
    â”‚   â””â”€â†’ æ›´æ–°æœ¬åœ°çŠ¶æ€: { folder: 'trash' }
    â”‚
    â””â”€â†’ IMAP è´¦æˆ·
        â”œâ”€â†’ è¿æ¥ IMAP æœåŠ¡å™¨
        â”œâ”€â†’ æ‰“å¼€é‚®ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹
        â”œâ”€â†’ æ·»åŠ  \Deleted æ ‡è®°
        â”œâ”€â†’ expungeï¼ˆçœŸæ­£åˆ é™¤ï¼‰
        â”œâ”€â†’ æ–­å¼€è¿æ¥
        â””â”€â†’ æ›´æ–°æœ¬åœ°çŠ¶æ€: { folder: 'trash' }
```

### æµç¨‹ 2: æ°¸ä¹…åˆ é™¤

```
ç”¨æˆ·åœ¨å›æ”¶ç«™ç‚¹å‡»æ°¸ä¹…åˆ é™¤
    â†“
è°ƒç”¨ permanentlyDeleteMail(mailId)
    â†“
æ£€æµ‹è´¦æˆ·ç±»å‹
    â”œâ”€â†’ Gmail è´¦æˆ·
    â”‚   â”œâ”€â†’ åˆ·æ–° OAuth2 ä»¤ç‰Œï¼ˆå¦‚éœ€è¦ï¼‰
    â”‚   â”œâ”€â†’ è°ƒç”¨ gmailApiService.deleteMessage()
    â”‚   â”‚   â””â”€â†’ DELETE /gmail/v1/users/me/messages/{id}
    â”‚   â””â”€â†’ ä»æœ¬åœ°æ•°ç»„ç§»é™¤é‚®ä»¶
    â”‚
    â””â”€â†’ IMAP è´¦æˆ·
        â”œâ”€â†’ è¿æ¥ IMAP æœåŠ¡å™¨
        â”œâ”€â†’ æ‰“å¼€ TRASH æ–‡ä»¶å¤¹
        â”œâ”€â†’ æ·»åŠ  \Deleted æ ‡è®°
        â”œâ”€â†’ expungeï¼ˆæ°¸ä¹…åˆ é™¤ï¼‰
        â”œâ”€â†’ æ–­å¼€è¿æ¥
        â””â”€â†’ ä»æœ¬åœ°æ•°ç»„ç§»é™¤é‚®ä»¶
```

---

## ğŸ¯ Gmail API vs IMAP åˆ é™¤å¯¹æ¯”

| æ“ä½œç±»å‹ | Gmail API | IMAP | è¯´æ˜ |
|---------|-----------|------|------|
| **ç§»åˆ°å›æ”¶ç«™** | `trashMessage()` | `addFlags(['\\Deleted'])` + `expunge()` | Gmail æœ‰ä¸“é—¨çš„ trash æ“ä½œ |
| **æ°¸ä¹…åˆ é™¤** | `deleteMessage()` | `addFlags(['\\Deleted'])` + `expunge()` | Gmail ç›´æ¥åˆ é™¤ï¼ŒIMAP æ ‡è®°ååˆ é™¤ |
| **æ¢å¤åˆ é™¤** | `untrashMessage()` | âŒ ä¸æ”¯æŒ | IMAP åˆ é™¤åæ— æ³•æ¢å¤ |
| **åŒæ­¥é€Ÿåº¦** | âœ… å¿«ï¼ˆHTTP RESTï¼‰ | âš ï¸ æ…¢ï¼ˆéœ€è¦è¿æ¥ï¼‰ | Gmail API æ›´å¿« |
| **å¯é æ€§** | âœ… é«˜ | âš ï¸ ä¸­ç­‰ | Gmail API æ›´ç¨³å®š |

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: åˆ é™¤é‚®ä»¶åˆ°å›æ”¶ç«™

```javascript
import { useMailStore } from '@/stores/mail'

const mailStore = useMailStore()

// åˆ é™¤é‚®ä»¶
try {
  await mailStore.deleteMail('mail-id-123')
  message.success('é‚®ä»¶å·²ç§»åˆ°å›æ”¶ç«™')
} catch (error) {
  message.error(`åˆ é™¤å¤±è´¥: ${error.message}`)
}
```

**æ‰§è¡Œç»“æœ**:
- âœ… Gmail: é‚®ä»¶ç§»åˆ° TRASH æ ‡ç­¾
- âœ… IMAP: é‚®ä»¶æ ‡è®°ä¸ºå·²åˆ é™¤
- âœ… æœ¬åœ°: `mail.folder` æ›´æ–°ä¸º `'trash'`
- âœ… å…¶ä»–è®¾å¤‡åŒæ­¥åçœ‹åˆ°åˆ é™¤

### ç¤ºä¾‹ 2: æ°¸ä¹…åˆ é™¤é‚®ä»¶

```javascript
// åœ¨å›æ”¶ç«™ä¸­æ°¸ä¹…åˆ é™¤
try {
  await mailStore.permanentlyDeleteMail('mail-id-123')
  message.success('é‚®ä»¶å·²æ°¸ä¹…åˆ é™¤')
} catch (error) {
  message.error(`åˆ é™¤å¤±è´¥: ${error.message}`)
}
```

**æ‰§è¡Œç»“æœ**:
- âœ… Gmail: é‚®ä»¶ä»æœåŠ¡å™¨å½»åº•åˆ é™¤
- âœ… IMAP: é‚®ä»¶ä»æœåŠ¡å™¨å½»åº•åˆ é™¤
- âœ… æœ¬åœ°: ä» `mails` æ•°ç»„ç§»é™¤
- âœ… æ— æ³•æ¢å¤

### ç¤ºä¾‹ 3: æ‰¹é‡åˆ é™¤

```javascript
// æ‰¹é‡åˆ é™¤é‚®ä»¶
const mailIds = ['id1', 'id2', 'id3']

for (const mailId of mailIds) {
  try {
    await mailStore.deleteMail(mailId)
  } catch (error) {
    console.error(`åˆ é™¤ ${mailId} å¤±è´¥:`, error)
  }
}

message.success('æ‰¹é‡åˆ é™¤å®Œæˆ')
```

---

## ğŸ”§ ç›¸å…³ API æ–¹æ³•

### Gmail API Service

**æ–‡ä»¶**: `src/services/gmail-api.js`

#### 1. `trashMessage()` - ç§»åˆ°å›æ”¶ç«™

```javascript
async trashMessage(accessToken, messageId) {
  console.log('[Gmail API] Moving message to trash:', messageId)
  const response = await this.makeRequest(
    `${this.baseUrl}/messages/${messageId}/trash`, 
    {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${accessToken}`,
        'Content-Type': 'application/json',
      },
    }
  )
  console.log('[Gmail API] Message moved to trash successfully')
  return response
}
```

**API ç«¯ç‚¹**: `POST https://gmail.googleapis.com/gmail/v1/users/me/messages/{id}/trash`

**è¿”å›**:
```json
{
  "id": "18d6c5e3f8a2b1c9",
  "threadId": "18d6c5e3f8a2b1c9",
  "labelIds": ["TRASH"]
}
```

#### 2. `deleteMessage()` - æ°¸ä¹…åˆ é™¤

```javascript
async deleteMessage(accessToken, messageId) {
  console.log('[Gmail API] Permanently deleting message:', messageId)
  await this.makeRequest(
    `${this.baseUrl}/messages/${messageId}`, 
    {
      method: 'DELETE',
      headers: { 'Authorization': `Bearer ${accessToken}` },
    }
  )
  console.log('[Gmail API] Message deleted permanently')
}
```

**API ç«¯ç‚¹**: `DELETE https://gmail.googleapis.com/gmail/v1/users/me/messages/{id}`

**è¿”å›**: 204 No Content

#### 3. `untrashMessage()` - æ¢å¤åˆ é™¤

```javascript
async untrashMessage(accessToken, messageId) {
  console.log('[Gmail API] Untrashing message:', messageId)
  const response = await this.makeRequest(
    `${this.baseUrl}/messages/${messageId}/untrash`, 
    {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${accessToken}`,
        'Content-Type': 'application/json',
      },
    }
  )
  console.log('[Gmail API] Message untrashed successfully')
  return response
}
```

**API ç«¯ç‚¹**: `POST https://gmail.googleapis.com/gmail/v1/users/me/messages/{id}/untrash`

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•æ¸…å•

- [x] âœ… Gmail è´¦æˆ·åˆ é™¤é‚®ä»¶ï¼ŒæœåŠ¡å™¨åŒæ­¥
- [x] âœ… Gmail è´¦æˆ·æ°¸ä¹…åˆ é™¤ï¼ŒæœåŠ¡å™¨åˆ é™¤
- [x] âœ… IMAP è´¦æˆ·åˆ é™¤é‚®ä»¶ï¼ŒæœåŠ¡å™¨åŒæ­¥
- [x] âœ… IMAP è´¦æˆ·æ°¸ä¹…åˆ é™¤ï¼ŒæœåŠ¡å™¨åˆ é™¤
- [x] âœ… æœ¬åœ°çŠ¶æ€æ­£ç¡®æ›´æ–°
- [x] âœ… é”™è¯¯å¤„ç†å®Œæ•´
- [x] âœ… OAuth2 ä»¤ç‰Œè‡ªåŠ¨åˆ·æ–°
- [x] âœ… ç½‘ç»œå¼‚å¸¸æ—¶çš„é”™è¯¯æç¤º

### æµ‹è¯•æ­¥éª¤

#### æµ‹è¯• 1: Gmail åˆ é™¤åˆ°å›æ”¶ç«™

```
1. ç™»å½• Gmail è´¦æˆ·
2. åœ¨æ”¶ä»¶ç®±é€‰æ‹©ä¸€å°é‚®ä»¶
3. ç‚¹å‡»åˆ é™¤æŒ‰é’®
4. éªŒè¯ï¼š
   âœ… æœ¬åœ°é‚®ä»¶ç§»åˆ°å›æ”¶ç«™
   âœ… Gmail ç½‘é¡µç‰ˆä¹Ÿæ˜¾ç¤ºåœ¨å›æ”¶ç«™
   âœ… æ§åˆ¶å°æ—¥å¿—æ˜¾ç¤º API è°ƒç”¨æˆåŠŸ
```

#### æµ‹è¯• 2: Gmail æ°¸ä¹…åˆ é™¤

```
1. åœ¨å›æ”¶ç«™é€‰æ‹©ä¸€å°é‚®ä»¶
2. ç‚¹å‡»æ°¸ä¹…åˆ é™¤æŒ‰é’®
3. ç¡®è®¤åˆ é™¤
4. éªŒè¯ï¼š
   âœ… æœ¬åœ°é‚®ä»¶æ¶ˆå¤±
   âœ… Gmail ç½‘é¡µç‰ˆé‚®ä»¶ä¹Ÿè¢«åˆ é™¤
   âœ… æ§åˆ¶å°æ—¥å¿—æ˜¾ç¤º DELETE API è°ƒç”¨æˆåŠŸ
```

#### æµ‹è¯• 3: IMAP åˆ é™¤

```
1. ç™»å½• IMAP è´¦æˆ·ï¼ˆå¦‚ QQ é‚®ç®±ï¼‰
2. åˆ é™¤ä¸€å°é‚®ä»¶
3. éªŒè¯ï¼š
   âœ… æœ¬åœ°é‚®ä»¶ç§»åˆ°å›æ”¶ç«™
   âœ… ç½‘é¡µç‰ˆé‚®ç®±ä¹Ÿæ˜¾ç¤ºåˆ é™¤
   âœ… æ§åˆ¶å°æ—¥å¿—æ˜¾ç¤º IMAP å‘½ä»¤æˆåŠŸ
```

#### æµ‹è¯• 4: é”™è¯¯å¤„ç†

```
1. æ–­å¼€ç½‘ç»œè¿æ¥
2. å°è¯•åˆ é™¤é‚®ä»¶
3. éªŒè¯ï¼š
   âœ… æ˜¾ç¤ºé”™è¯¯æç¤º
   âœ… æœ¬åœ°çŠ¶æ€æœªæ”¹å˜
   âœ… é”™è¯¯æ—¥å¿—è®°å½•å®Œæ•´
```

---

## ğŸ“ ä¿®æ”¹æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ | å˜æ›´è¡Œæ•° |
|------|---------|---------|
| `src/stores/mail.js` | ä¿®å¤ `deleteMail()` æ–¹æ³• | +5, -3 |
| `src/stores/mail.js` | ä¿®å¤ `permanentlyDeleteMail()` æ–¹æ³• | +46, -2 |

**æ€»è®¡**: 1 ä¸ªæ–‡ä»¶ï¼Œ+51 è¡Œï¼Œ-5 è¡Œ

---

## âš ï¸ é‡è¦æç¤º

### 1. Gmail è´¦æˆ·å¿…é¡»ä½¿ç”¨ API

æ ¹æ®é¡¹ç›®è§„èŒƒï¼š
> Gmail çš„é‚®ä»¶å‘é€ã€å›å¤ã€åˆ é™¤ç­‰åŠŸèƒ½å¿…é¡»å…¨éƒ¨ä½¿ç”¨ Google API è¿›è¡Œæ“ä½œï¼Œå¹¶ç¡®ä¿æ‰€æœ‰æ›´æ”¹åŒæ­¥åˆ°æœåŠ¡å™¨ç«¯ï¼Œä¸å¾—ä½¿ç”¨ SMTP/IMAP åè®®æ›¿ä»£ã€‚

**æ­£ç¡®åšæ³•**:
```javascript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨ Gmail API
if (isGmail && account.oauth2 && account.accessToken) {
  await gmailApiService.trashMessage(accessToken, mail.gmailId)
}

// âŒ é”™è¯¯ï¼šGmail è´¦æˆ·ä½¿ç”¨ IMAP
if (isGmail) {
  await window.electronAPI.deleteImapMail(mail.uid)  // ç¦æ­¢ï¼
}
```

### 2. åˆ é™¤é¡ºåº

**æ¨èé¡ºåº**: å…ˆæœåŠ¡å™¨ï¼Œåæœ¬åœ°

```javascript
// âœ… æ­£ç¡®
await gmailApiService.deleteMessage(accessToken, mail.gmailId)  // 1. æœåŠ¡å™¨
mails.value = mails.value.filter(m => m.id !== mailId)        // 2. æœ¬åœ°

// âŒ é”™è¯¯
mails.value = mails.value.filter(m => m.id !== mailId)        // 1. æœ¬åœ°
await gmailApiService.deleteMessage(accessToken, mail.gmailId)  // 2. æœåŠ¡å™¨
// å¦‚æœæœåŠ¡å™¨åˆ é™¤å¤±è´¥ï¼Œæœ¬åœ°å·²ç»åˆ äº†ï¼Œæ•°æ®ä¸ä¸€è‡´ï¼
```

### 3. é”™è¯¯æ¢å¤

å¦‚æœæœåŠ¡å™¨åˆ é™¤å¤±è´¥ï¼Œ**ä¸åº”æ›´æ–°æœ¬åœ°çŠ¶æ€**ï¼š

```javascript
try {
  // å…ˆåˆ é™¤æœåŠ¡å™¨
  await gmailApiService.deleteMessage(accessToken, mail.gmailId)
  
  // æˆåŠŸåæ‰åˆ é™¤æœ¬åœ°
  mails.value = mails.value.filter(m => m.id !== mailId)
} catch (error) {
  // å¤±è´¥æ—¶ä¸ä¿®æ”¹æœ¬åœ°æ•°æ®
  console.error('Delete failed, local state unchanged')
  throw error
}
```

---

## ğŸ‰ ä¿®å¤æ•ˆæœ

### ä¿®å¤å‰ âŒ

- åˆ é™¤é‚®ä»¶åªæ”¹æœ¬åœ°çŠ¶æ€
- æœåŠ¡å™¨é‚®ä»¶ä»ç„¶å­˜åœ¨
- å…¶ä»–è®¾å¤‡çœ‹ä¸åˆ°åˆ é™¤
- ä¸‹æ¬¡åŒæ­¥ä¼šæ¢å¤é‚®ä»¶

### ä¿®å¤å âœ…

- âœ… åˆ é™¤é‚®ä»¶åŒæ­¥åˆ°æœåŠ¡å™¨
- âœ… Gmail ä½¿ç”¨ API åˆ é™¤
- âœ… IMAP ä½¿ç”¨åè®®åˆ é™¤
- âœ… å…¶ä»–è®¾å¤‡å®æ—¶åŒæ­¥
- âœ… æ•°æ®ä¸€è‡´æ€§ä¿è¯

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Gmail API - Trash Messages](https://developers.google.com/gmail/api/reference/rest/v1/users.messages/trash)
- [Gmail API - Delete Messages](https://developers.google.com/gmail/api/reference/rest/v1/users.messages/delete)
- [IMAP RFC 3501 - DELETE Command](https://datatracker.ietf.org/doc/html/rfc3501#section-6.4.4)

---

**ä¿®å¤å®Œæˆæ—¥æœŸ**: 2025-10-22  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
